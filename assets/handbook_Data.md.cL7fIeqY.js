import{_ as e,c as s,o as a,U as i}from"./chunks/framework.hUbdJHiz.js";const g=JSON.parse('{"title":"数据源","description":"","frontmatter":{},"headers":[],"relativePath":"handbook/Data.md","filePath":"handbook/Data.md"}'),d={name:"handbook/Data.md"},n=i(`<h1 id="数据源" tabindex="-1">数据源 <a class="header-anchor" href="#数据源" aria-label="Permalink to &quot;数据源&quot;">​</a></h1><p>本章节介绍通过 <code>\\addplot</code> 命令引入的数据源，作为预备知识，请确保已经阅读 <a href="./AddPlot.html">AddPlot</a></p><h2 id="函数" tabindex="-1">函数 <a class="header-anchor" href="#函数" aria-label="Permalink to &quot;函数&quot;">​</a></h2><p>该小节仅介绍 <strong>PGFplots</strong> 内部的计算函数，更多函数请查看：<a href="https://tikz.dev/pgfplots/reference-addplot#sec-14.5" target="_blank" rel="noreferrer">Gnuplot</a> 和 <a href="https://tikz.dev/pgfplots/reference-addplot#sec-14.6" target="_blank" rel="noreferrer">外部程序</a></p><p>以 <em>x</em> 为变量的函数可写为：</p><div class="language-latex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">latex</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{axis}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  \\addplot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {x^2};</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  \\addplot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {sin(deg(x))};</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{axis}</span></span></code></pre></div><p>函数表达式支持：</p><ul><li>操作符：<code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>^</code> <code>mod</code> <code>&lt;</code> <code>&gt;</code></li><li>数学函数：<code>abs</code> <code>round</code> <code>floor</code> <code>min</code> <code>max</code></li><li>三角函数：<code>sin</code> <code>cos</code> <code>tan</code> <code>atan</code> <code>asin</code> <code>atan</code> <code>cot</code> <code>sec</code> <code>cosec</code></li><li>求值函数：<code>exp</code> <code>ln</code> <code>sqrt</code> <code>factorial</code> (取因子)</li><li>进制函数：<code>hex</code> <code>oct</code> <code>bin</code></li><li>角度转换：<code>deg</code> (弧度到角度) <code>rad</code> (角度到弧度)</li><li>求随机数：<code>rand</code> (-1 - 1) <code>rnd</code> (0 - 1)</li><li>常量：<code>pi</code> <code>e</code></li></ul><h3 id="options" tabindex="-1">Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;Options&quot;">​</a></h3><p><code>domain=</code> <code>a:b</code> <em>x</em> 的取值范围，如 <code>domain=-pi:pi</code></p><p><code>domain y=</code> <code>a:b</code> <em>y</em> 的取值范围</p><p><code>samples at=</code> <code>{a,b,c,d,...}</code> <em>x</em>的取值列表，如：</p><ul><li><code>\\pgfplotsset{samples at={5e-5,7e-5,10e-5,12e-5}}</code></li><li><code>\\pgfplotsset{samples at={-5,-4.5,...,5}}</code></li><li><code>\\pgfplotsset{samples at={-5,-3,-1,-0.5,0,...,5}}</code></li></ul><p><code>samples=</code> <code>数字</code> <em>x</em> 的取值数量，当 <code>samples at</code> 已配置时无效</p><p><code>samples y=</code> <code>数字</code> <em>y</em> 的取值数量</p><p><code>variable=</code> <code>字符</code> 表示横轴变量，默认为 <code>x</code></p><p><code>variable y=</code> <code>字符</code> 表示纵轴变量，默认为 <code>y</code></p><p><code>trig format plots=</code> <code>default</code> <code>deg</code> <code>rad</code> 决定坐标轴的单位是弧度还是角度</p><h2 id="table" tabindex="-1">Table <a class="header-anchor" href="#table" aria-label="Permalink to &quot;Table&quot;">​</a></h2><p>以表格作为数据，如表格文件 <code>datafile.dat</code>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>dof     L2              Lmax            maxlevel</span></span>
<span class="line"><span>5       8.31160034e-02  1.80007647e-01  2</span></span>
<span class="line"><span>17      2.54685628e-02  3.75580565e-02  3</span></span>
<span class="line"><span>49      7.40715288e-03  1.49212716e-02  4</span></span>
<span class="line"><span>129     2.10192154e-03  4.23330523e-03  5</span></span>
<span class="line"><span>321     5.87352989e-04  1.30668515e-03  6</span></span>
<span class="line"><span>769     1.62269942e-04  3.88658098e-04  7</span></span>
<span class="line"><span>1793    4.44248889e-05  1.12651668e-04  8</span></span>
<span class="line"><span>4097    1.20714122e-05  3.20339285e-05  9</span></span>
<span class="line"><span>9217    3.26101452e-06  8.97617707e-06  10</span></span></code></pre></div><p>引用该文件：</p><div class="language-latex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">latex</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{tikzpicture}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    \\begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{loglogaxis}[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        xlabel=Dof,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ylabel=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">L_2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> error,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        \\addplot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table [x=dof,y=L2] {datafile.dat};</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    \\end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{loglogaxis}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{tikzpicture}</span></span></code></pre></div><p>也可以使用内联的方式，直接写入表格数据：</p><div class="language-latex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">latex</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\addplot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table [x=dof,y=Lmax] {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dof     L2              Lmax            maxlevel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    5       8.31160034e-02  1.80007647e-01  2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    17      2.54685628e-02  3.75580565e-02  3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    49      7.40715288e-03  1.49212716e-02  4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    129     2.10192154e-03  4.23330523e-03  5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    321     5.87352989e-04  1.30668515e-03  6</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    769     1.62269942e-04  3.88658098e-04  7</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    1793    4.44248889e-05  1.12651668e-04  8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    4097    1.20714122e-05  3.20339285e-05  9</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    9217    3.26101452e-06  8.97617707e-06  10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>如果要多次使用某一文件，可以用 <code>\\pgfplotstableread</code> 命令：</p><div class="language-latex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">latex</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\pgfplotstableread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{datafile.dat}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\customtablename</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> % use any custom name in place of \`\\customtablename&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\addplot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table [x=dof,y=L2] {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\customtablename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\addplot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table [x=dof,y=Lmax] {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\customtablename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="options-1" tabindex="-1">Options <a class="header-anchor" href="#options-1" aria-label="Permalink to &quot;Options&quot;">​</a></h3><p>为避免重复内容，以下所有的 <em>x</em> 都可以替换为 <em>y</em> 和 <em>z</em> 来表示对 y轴 和 z轴 的配置。</p><p><code>header=</code> <code>true</code> <code>false</code> 表格是否有 <strong>Header</strong>, 设置为 <code>false</code> 表示数据从第一行开始读取</p><p><code>x=</code> <code>列名</code> x轴数据来源的列名</p><p><code>x index=</code> <code>列索引</code> x轴数据来源的列索引，从0开始</p><p><code>x expr=</code> <code>表达式</code> x轴数据由表达式生成，表达式可以是：</p><ul><li><code>\\thisrow{列名}</code> 以某一列的值作为x轴数据，可以添加计算表达式如：<code>\\thisrow{column1}+10</code></li><li><code>\\thisrowno{列索引}</code> 同上，以列索引为查找对象</li><li><code>\\coordindex</code> 以行数为x轴数据，行数不计入 <strong>header</strong> 和被跳过的行（被 <code>comment chars</code> 注释的行）</li><li><code>\\lineno</code> 同上，但会计入 <strong>header</strong> 和被跳过的行</li></ul><p><code>x error=</code> <code>列名</code> x轴误差数据来源的列名</p><ul><li><code>x error &lt;plus|minus&gt; &lt;index|expr&gt;=</code> <code>列索引|表达式</code> 这里表示多种写法的组合，如<code>x error plus expr=</code> <code>表达式</code></li><li><code>plus</code> 表示误差上限值 <code>minus</code> 表示下限值，误差线相关知识请查看 <a href="./Addplot.html#误差线">误差线</a></li></ul><p><code>meta &lt;none|index|expr&gt;=</code> <code>列名|列索引|表达式</code> 点样式列，相关知识请查看 <a href="./Addplot.html#点样式">点样式</a></p><p><code>row sep=</code> <code>newline</code> <code>\\</code> 行的分隔符，默认为 <code>newline</code> 以换行符分隔</p><p><code>col sep=</code> <code>space</code> <code>tab</code> <code>comma</code> <code>colon</code> <code>semicolon</code> <code>braces</code> <code>&amp;</code> <code>ampersand</code> 列的分隔符，默认为 <code>space</code> 以空格分隔</p><p><code>read completely=</code> <code>auto</code> <code>true</code> <code>false</code> 是否始终将整个表读入内存</p><p><code>comment chars=</code> <code>字符</code> 跳过以该字符开始的行，默认跳过以 <code>#</code> 或 <code>%</code> 开始的行数据</p><ul><li>如果想跳过某个单元格，请将该单元格填写为 <code>nan</code></li></ul><p><code>skip first n=</code> <code>数字</code> 跳过开头的几行，默认为 <code>0</code></p><p><code>search path=</code> <code>路径</code> 表的路径，默认为 <code>.</code> 表示当前目录</p><h2 id="graphics" tabindex="-1">Graphics <a class="header-anchor" href="#graphics" aria-label="Permalink to &quot;Graphics&quot;">​</a></h2><p><code>AddPlot</code> 可以通过 <code>graphics</code> 引用外部图片：</p><div class="language-latex vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">latex</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\addplot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> graphics [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    xmin=-3,xmax=3,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ymin=-3,ymax=3,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] {external1};</span></span></code></pre></div><p>还可以通过配置对坐标轴的点与图中的点进行关联，以让它们组合得更加和谐。</p><p>由于这块知识不是本文档的重心，在此不展开。</p><p>如感兴趣请自行访问 <a href="https://tikz.dev/pgfplots/reference-addplot#sec-14.7" target="_blank" rel="noreferrer">这里</a>。</p>`,50),o=[n];function l(p,c,t,h,r,k){return a(),s("div",null,o)}const m=e(d,[["render",l]]);export{g as __pageData,m as default};
